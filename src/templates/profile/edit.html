{% extends "base.html" %}
{% block container %}
    {% if form.non_field_errors  %}
        {% for e in form.non_field_errors %} 
            <div class="row"> 
                <div class="col-md-6 widget col-md-offset-3"> 
                    <div class="alert alert-danger" role="alert">{{ e }}</div>
                </div>
            </div>
        {% endfor %} 
    {% endif %}
    <ol class="breadcrumb"> 
        <li> <a href="{% url "home" %}">Home</a> </li>
        {% if event %}
            <li><a href="{% url "event_edit" id=event.id%}">{{ event.title }} (Edit mode)</a></li> 
        {% else %}
            <li> <a href="{% url "event_list" %}">Events list</a> </li>  
        {% endif %} 
        <li class="active"> Member edit </li>                 
    </ol>  
    <div class="row"> 
        <article class="col-xs-12 maincontent"> 
            <header class="page-header"> 
                <h1 class="page-title">Edit profile</h1> 
            </header>     
            <form method="POST" action="" enctype="multipart/form-data">   {% csrf_token %}              
                <div class="panel panel-default"> 
                    <div class="panel-body"> 
                        <div class="row">
                            <div class="col-md-6"> 
                                <h3 class="thin text-center">Edit profile</h3> 
                                <hr> 
                                <div class="top-margin"> 
                                    <label>First Name
                                        {% if form.first_name.field.required %}
                                        <span class="text-danger">*</span>
                                        {% endif %}
                                    </label>   
                                    {% if form.errors.first_name %}
                                        <div class="alert alert-danger" role="alert">{{ form.errors.first_name }}</div>
                                    {% endif %}
                                    {{ form.first_name }}                                      
                                </div>                                     
                                <div class="top-margin"> 
                                    <label>Last Name
                                        {% if form.last_name.field.required %}
                                        <span class="text-danger">*</span>
                                        {% endif %}
                                    </label>
                                    {% if form.errors.last_name %}
                                        <div class="alert alert-danger" role="alert">{{ form.errors.last_name }}</div>
                                    {% endif %}
                                    {{ form.last_name }} 
                                </div>   
                                <div class="top-margin"> 
                                    <label>Email
                                        {% if form.email.field.required %}
                                        <span class="text-danger">*</span>
                                        {% endif %}
                                    </label>
                                    {% if form.errors.email %}
                                        <div class="alert alert-danger" role="alert">{{ form.errors.email }}</div>
                                    {% endif %}
                                    {{ form.email }} 
                                </div>                                                                   
                                <hr> 
                                {% if form.newsletter%}
                                    <div class="top-margin"> 
                                        {{ form.newsletter }} 
                                        <label>I want to receive news about ChaLearn LAP events</label>
                                    </div>
                                {% endif %}
                                <div class="top-margin"> 
                                    <label>Main organizer
                                        {% if form.main_org.field.required %}
                                        <span class="text-danger">*</span>
                                        {% endif %}
                                    </label>
                                    {% if form.errors.main_org %}
                                        <div class="alert alert-danger" role="alert">{{ form.errors.main_org }}</div>
                                    {% endif %}
                                    {{ form.main_org }} 
                                </div> 
                                <div class="top-margin"> 
                                    <label>Profile picture
                                        {% if form.avatar.field.required %}
                                        <span class="text-danger">*</span>
                                        {% endif %}
                                    </label>   
                                    {% if form.errors.avatar %}
                                        <div class="alert alert-danger" role="alert">{{ form.errors.avatar }}</div>
                                    {% endif %}
                                    {{ form.avatar }}                                      
                                </div>
                                <div class="top-margin"> 
                                    <label>Biography
                                        {% if form.bio.field.required %}
                                        <span class="text-danger">*</span>
                                        {% endif %}
                                    </label>   
                                    {% if form.errors.bio %}
                                        <div class="alert alert-danger" role="alert">{{ form.errors.bio }}</div>
                                    {% endif %}
                                    {{ form.bio }}                                      
                                </div>
                            </div>
                            <div class="col-md-6"> 
                                <h3 class="thin text-center">Affiliation</h3> 
                                <hr>
                                <div class="top-margin"> 
                                    <label>Name
                                        {% if form.name.field.required %}
                                        <span class="text-danger">*</span>
                                        {% endif %}
                                    </label>   
                                    {% if form.errors.name %}
                                        <div class="alert alert-danger" role="alert">{{ form.errors.name }}</div>
                                    {% endif %}
                                    {{ form.name }}                                      
                                </div>
                                <div class="top-margin"> 
                                    <label>Country
                                        {% if form.country.field.required %}
                                        <span class="text-danger">*</span>
                                        {% endif %}
                                    </label>   
                                    {% if form.errors.country %}
                                        <div class="alert alert-danger" role="alert">{{ form.errors.country }}</div>
                                    {% endif %}
                                    {{ form.country }}                                      
                                </div>
                                <div class="top-margin"> 
                                    <label>City
                                        {% if form.city.field.required %}
                                        <span class="text-danger">*</span>
                                        {% endif %}
                                    </label>   
                                    {% if form.errors.city %}
                                        <div class="alert alert-danger" role="alert">{{ form.errors.city }}</div>
                                    {% endif %}
                                    {{ form.city }}                                      
                                </div>
                            </div>
                        </div> 
                        <hr> 
                        <div class="row">
                            <div class="col-lg-4 col-lg-offset-8 text-right"> 
                                <button class="btn btn-action" type="submit" name="signup-button">Save</button>
                            </div>
                        </div>                             
                    </div>                         
                </div>  
            </form>                 
        </article>                 
    </div>           
{% endblock container %}            